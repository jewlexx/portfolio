import type { GetStaticProps, NextPage } from 'next';
import Page from '../components/Page';
import Confetti from '../components/Confetti';
import styles from '../styles/Home.module.scss';

interface IRootProps {
  enableConfetti: boolean;
}

const Index: NextPage<IRootProps> = ({ enableConfetti }) => {
  return (
    <Page title="Juliette Cordor" description="Generated by Create Next Stack.">
      {enableConfetti && <Confetti />}
      <main className={styles.container}>
        <h1>Welcome to my profile!</h1>
        <h2>My name is Juliette Cordor</h2>
      </main>
    </Page>
  );
};

export const getStaticProps: GetStaticProps<IRootProps> = () => {
  const isProduction = process.env.NODE_ENV === 'production';

  return {
    props: {
      enableConfetti: isProduction,
    },
  };
};

export default Index;
